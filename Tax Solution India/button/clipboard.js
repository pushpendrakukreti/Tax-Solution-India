if(typeof(stlib)=="undefined"){var stlib={}}stlib.p6x={bookmarklet:false,disc:{max:10000,current:0,elem:null,tar:null},abTest:0,c_abTest:0,s3:"//sharethis-images.s3.amazonaws.com/",bInit:false,hoverShowCursor:true,highlightShowCursor:false,iconInsideObject:true,hoverOnlyObjects:true,hoverInit:false,hoverMinCharLength:150,hoverInitTextDelay:4000,hoverTextDelay:3000,hoverInitNonTextDelay:2000,ihlDelay:100,outDelay:3000,clipLogic:2,moTimer:null,hlTimer:null,clTimer:null,outTimer:null,range:null,docFrag:null,imgQuality:1,wPos:{left:null,top:null},cPos:{s:{left:null,top:null},e:{left:null,top:null}},styles:[],imageData:"",debug:false,mImage:null,clip:false,disableMO:false,getOverlap:false,showInfoIcon:true,showPreview:true,splitTesting:null,isImage:function(a){if(a.tagName&&(/img/i).test(a.tagName)&&a.getElementsByTagName("*").length==0){return true}else{return false}},isObject:function(a){if(a.tagName&&((/object/i).test(a.tagName)||(/embed/i).test(a.tagName)||(/param/i).test(a.tagName))){return true}else{return false}},isIFrame:function(a){if(a.tagName&&(/iframe/i).test(a.tagName)){return true}else{return false}},excludeTag:function(a){return a.tagName&&((/script/i).test(a.tagName))},doNotClip:function(a){return a.tagName&&((/body/i).test(a.tagName)||(/html/i).test(a.tagName)||(/script/i).test(a.tagName))},doNotStyle:function(a){return a.tagName&&((/br/i).test(a.tagName))},isStandardStyle:function(a){return !((/\-webkit\-/i).test(a)||(/\-moz\-/i).test(a)||(/\-ms\-/i).test(a)||(/\-o\-/i).test(a))},excludeStyle:function(a){return(/height/i).test(a)},validMO:function(a){return stlib.p6x.isImage(a)||stlib.p6x.isObject(a)||stlib.p6x.isIFrame(a)},stElem:function(a){if(a){return a.hasAttribute("ignore_sharethis")&&(a.getAttribute("ignore_sharethis")==="true")}else{return true}},st2clog:function(a){if(stlib.p6x.debug&&window.console&&window.console.log){window.console.log(a)}},time:function(a){if(stlib.p6x.debug&&window.console&&window.console.time){window.console.time(a)}},timeEnd:function(a){if(stlib.p6x.debug&&window.console&&window.console.timeEnd){window.console.timeEnd(a)}},log:function(){stlib.data.resetShareData();stlib.data.set("url",document.location.href,"shareInfo");stlib.data.set("destination","snapsets","shareInfo");stlib.data.set("buttonType","custom","shareInfo");stlib.data.setSource("chicklet");stlib.sharer.share();stlib.p6x.timeEnd("LoggingTimer")},generateImage:function(b){var a={proxy:"http://wd.sharethis.com/api/getApi.php?service=scrapbook&call=getImageContent",logging:stlib.p6x.debug,proxyAll:true,onparsedimg:function(c){stlib.p6x.mImage=c},onrendered:function(d){stlib.p6x.imageData="";stlib.p6x.imageStatus="";if(d){var c=d.canvas.toDataURL("image/jpeg",stlib.p6x.imgQuality);stlib.p6x.imageData=c;stlib.p6x.timeEnd("ImageGenerationTimer");stlib.p6x.st2clog("Got image... ");stlib.p6x.st2clog("Image length: "+stlib.p6x.imageData.length);if(d.status.isBlackImage){stlib.p6x.st2clog("result: black image");stlib.p6x.imageStatus="black"}else{stlib.p6x.st2clog("result: non-black image")}}else{stlib.p6x.imageStatus="none"}stlib.scrappydoo.storeClip(stlib.p6x.getHTML());canvas=null}};if(!document.getSelection().isCollapsed){a.selection=document.getSelection();if(typeof(stlib.p6x.previewRef.children[0])!="undefined"){a.cropHeight=stlib.p6x.previewRef.children[0].offsetHeight}}if(b.nodeName=="#text"){b=b.parentNode;a.textNode=true}html2canvas(b,a)},saveImage:function(a,b){stlib.scrappydoo.storeImage(a,b);stlib.p6x.mImage=null;stlib.p6x.imageData=""},getInlineStyle:function(l,n){var f="";if(l.nodeType!=1){return f}if(!stlib.p6x.doNotStyle(l)){var m=window.getComputedStyle(l);if(n.container){var c=l;var i=m.getPropertyValue("background-color");var h=m.getPropertyValue("background-image");var g=m.getPropertyValue("background-color")+" "+m.getPropertyValue("background-image")+" "+m.getPropertyValue("background-repeat")+" "+m.getPropertyValue("background-attachment")+" "+m.getPropertyValue("background-position");try{while((i=="rgba(0, 0, 0, 0)"||i=="transparent")&&(h=="none")&&c.parentNode){var b=window.getComputedStyle(c.parentNode);i=b.getPropertyValue("background-color");h=b.getPropertyValue("background-image");g=b.getPropertyValue("background-color")+" "+b.getPropertyValue("background-image")+" "+b.getPropertyValue("background-repeat")+" "+b.getPropertyValue("background-attachment")+" "+b.getPropertyValue("background-position");c=c.parentNode}}catch(k){}stlib.p6x.st2clog("background-color: "+i);stlib.p6x.st2clog("background-image: "+h);stlib.p6x.st2clog("background: "+g);var a="";if(i!="rgba(0, 0, 0, 0)"&&i!="transparent"){a+="background-color:"+i+";"}else{if(h!="none"&&g!=""){}}return"width:"+m.getPropertyValue("width")+";display:inline-block;"+a}if(n.object){return"width:"+m.getPropertyValue("width")+";height:"+m.getPropertyValue("height")}for(var d=0;d<m.length;d++){var a=m.item(d);if(stlib.p6x.isStandardStyle(a)){if(n.topmost){if(a=="position"){f+=a+":relative;";continue}else{if(a=="top"||a=="right"||a=="bottom"||a=="left"){continue}else{if(a=="margin-top"||a=="margin-right"||a=="margin-bottom"||a=="margin-left"){if(parseInt(m.getPropertyValue(a))>0){f+=a+":"+m.getPropertyValue(a)+";"}else{continue}}else{if(a=="height"){f+=a+":auto;";continue}else{if(a=="width"||a=="height"){f+=a+":"+m.getPropertyValue(a)+" !important;";continue}}}}}}if(
/*!stlib.p6x.excludeStyle(style)  && */
typeof(m.getPropertyValue(a))!="undefined"){f+=a+":"+m.getPropertyValue(a)+";"}}}}return f},getData:function(d){if(stlib.p6x.doNotClip(d)){return}var f="";var j=document.createElement("div");j.appendChild(d.cloneNode(true));if(stlib.p6x.clipLogic){var a=j.getElementsByTagName("*");if(a.length==stlib.p6x.styles.length){stlib.p6x.st2clog("equal length");for(var g=0;g<a.length;g++){a[g].setAttribute("style",stlib.p6x.styles[g])}}else{stlib.p6x.st2clog("non equal length...  storage: "+a.length+" and array is: "+stlib.p6x.styles.length);var b=stlib.p6x.getClipMetaData(stlib.p6x.range);if((b.type=="video"||b.type=="image")&&a[0]&&stlib.p6x.styles[0]){a[0].setAttribute("style",stlib.p6x.styles[0])}}for(var g=0;g<a.length;g++){var e=a[g];if(stlib.p6x.excludeTag(e)&&e.parentNode){e.parentNode.removeChild(e);continue}var c=stlib.p6x.getNodeData(e);if(e.getAttribute("src")!==null&&e.getAttribute("src")!==""){var f=e.getAttribute("src");var h=document.createElement("a");h.href=f;f=h.href;e.setAttribute("src",f);if(c.tagName&&c.tagName=="img"){if(stlib.p6x.mImage&&stlib.p6x.mImage[f]){e.setAttribute("src",stlib.p6x.s3+stlib.p6x.mImage[f])}}}if(e.getAttribute("href")!==null&&e.getAttribute("href")!==""){var f=e.getAttribute("href");var h=document.createElement("a");h.href=f;f=h.href;e.setAttribute("href",f)}if(c.tagName&&c.tagName=="object"){if(e.getAttribute("data")){var f=e.getAttribute("data");var h=document.createElement("a");h.href=f;f=h.href;e.setAttribute("data",f)}}e.removeAttribute("class");e.removeAttribute("id")}f=j.innerHTML}else{f=j.textContent||j.innerText;j.innerHTML=f}if(f&&f.length>0){stlib.p6x.setHTML(f)}else{}},getNodeData:function(b){var a={};if(b.tagName){a.tagName=b.tagName.toLowerCase()}return a},getClipMetaData:function(b){var a={};if(b.surroundContents){a.type="html"}else{if(stlib.p6x.isImage(b)){a.type="image"}else{if(stlib.p6x.isObject(b)||stlib.p6x.isIFrame(b)){a.type="video"}else{a.type="other"}}}return a},clear:function(){clearTimeout(stlib.p6x.hlTimer);clearTimeout(stlib.p6x.clTimer);clearTimeout(stlib.p6x.moTimer);clearTimeout(stlib.p6x.outTimer)},generateDocFrag2:function(e){var b=e.getRangeAt(0);if(b.startContainer.nodeName=="#text"){b.setStart(b.startContainer.parentNode,0)}if(b.endContainer.nodeName=="#text"){b.setEnd(b.endContainer.parentNode,b.endContainer.parentNode.childNodes.length)}if(b.startContainer===b.endContainer&&b.startContainer.parentNode===b.endContainer.parentNode){stlib.p6x.st2clog("Modify range!");var d=-1;var a=b.startContainer.parentNode.childNodes;for(var f=0;f<a.length;f++){if(a[f]===b.startContainer){d=f}}if(d>=0){b.setStart(b.startContainer.parentNode,d)}}document.getSelection().removeAllRanges();document.getSelection().addRange(b);stlib.p6x.range=b;return b.cloneContents()},applyCSS:function(n){var g=stlib.p6x.cPos.s.left;var c=stlib.p6x.cPos.s.top;var e=stlib.p6x.cPos.e.left;var b=stlib.p6x.cPos.e.top;var d=true;if(n){if(stlib.p6x.c_abTest==1){var f=18;var h=39}else{var f=27;var h=56}var m=n.s;var k=stlib.helpers.getPosition2(m);c=k.top+stlib.helpers.getComputedStyle(m,"padding-top")-5+"px";g=k.left+stlib.helpers.getComputedStyle(m,"padding-left")-5+"px";var l=n.e;var j=stlib.helpers.getPosition2(l);b=j.top+l.offsetHeight-f-stlib.helpers.getComputedStyle(l,"padding-bottom")+5+"px";e=j.left+l.offsetWidth-h-stlib.helpers.getComputedStyle(l,"padding-right")+5+"px";d=n.remove}if(g&&c&&e&&b){var a=document.createElement("div");a.className="stClipped stClipped-cb fadeout"+(stlib.p6x.c_abTest==1?" stClipped-a stClipped-cb-left-a":" stClipped-b stClipped-cb-left-b");a.style.left=g;a.style.top=c;a.setAttribute("ignore_sharethis","true");document.getElementsByTagName("body")[0].appendChild(a);var i=document.createElement("div");i.className="stClipped stClipped-cb fadeout"+(stlib.p6x.c_abTest==1?" stClipped-a stClipped-cb-right-a":" stClipped-b stClipped-cb-right-b");i.style.left=e;i.style.top=b;i.setAttribute("ignore_sharethis","true");document.getElementsByTagName("body")[0].appendChild(i);if(d){setTimeout(function(){stlib.p6x.fadeRemove(a);stlib.p6x.fadeRemove(i)},3000)}else{window.scrollTo(0,parseInt(c))}}},fadeRemove:function(a){if(a){a.style.opacity="0";setTimeout(function(){a.parentNode.removeChild(a)},750)}},setHTML:function(b){var a='<div style="clear: both;"></div>';stlib.p6x.previewRef.innerHTML=b+a},getHTML:function(){return stlib.p6x.previewRef.innerHTML},resizeIFrame:function(d,b,a){var c=document.getElementById(d);if(c){c.style.width=isNaN(b)?b:b+"px";c.style.height=isNaN(a)?a:a+"px"}},showIFrame:function(){var a=document.getElementById("st-snap");if(a){stlib.p6x.getData(stlib.p6x.docFrag);document.getElementById("st-preview").style.display="block";a.style.display="block";stlib.p6x.st2clog("w: "+stlib.p6x.previewRef.offsetWidth+" h: "+stlib.p6x.previewRef.offsetHeight);if(stlib.p6x.previewRef.offsetHeight<=0&&stlib.p6x.getClipMetaData(stlib.p6x.range).type=="video"){stlib.p6x.st2clog("adjusting height");stlib.p6x.resizeIFrame("st-preview",stlib.p6x.previewRef.offsetWidth+40,290+30)}else{stlib.p6x.resizeIFrame("st-preview",stlib.p6x.previewRef.offsetWidth+40,stlib.p6x.previewRef.offsetHeight+30)}stlib.p6x.positionIFrame();document.getElementById("st-background").style.display="block"}stlib.p6x.clear();document.removeEventListener("mousemove",stlib.p6x.getElemFromMouse,false)},positionIFrame:function(){var b=stlib.helpers.getPageInfo();var a=document.getElementById("st-snap");a.style.top=b.scrY+(20)+"px";a.style.left=((b.width-document.getElementById("st-snap").offsetWidth)/2)+"px"},resetCloseTimer:function(){clearTimeout(stlib.p6x.outTimer);stlib.p6x.outTimer=setTimeout(function(){stlib.p6x.st2clog(stlib.p6x.outDelay+"ms passed, closing");stlib.p6x.closeIcon()},stlib.p6x.outDelay)},showDPopup:function(b){var a=document.getElementById("st-d-popup");(a)?(a.style.left=(parseInt(stlib.p6x.wPos.left)-140)+"px",a.style.top=(parseInt(stlib.p6x.wPos.top)+40)+"px",a.style.display="block"):null},closeDPopup:function(b){var a=document.getElementById("st-d-popup");if(a&&a.style.display=="block"){a.style.display="none";(b)?(stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","closeD")):null}},showIcon:function(a){var b=document.getElementById("st-icon");if(b){if(b.style.opacity=="0"){stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","display",a);b.className="st-icon";b.style.left=stlib.p6x.wPos.left;b.style.top=stlib.p6x.wPos.top;b.style.display="block";setTimeout(function(){b.style.opacity="1";stlib.p6x.st2clog("Start close timer");stlib.p6x.resetCloseTimer()},100)}else{b.style.opacity="0";clearTimeout(stlib.p6x.clTimer);clearTimeout(stlib.p6x.outTimer);setTimeout(function(){stlib.p6x.showIcon(a)},1100)}}},closeIcon:function(b){if(document.getSelection().isCollapsed&&b){b=b||window.event;var a=b.target||b.srcElement;if(stlib.p6x.disc.elem==a){return}}stlib.p6x.clear();if(stlib.p6x.splitTesting=="D"){stlib.p6x.closeDPopup(true)}if(document.getElementById("st-icon").style.opacity=="0"){return}document.getElementById("st-icon").style.opacity="0";document.getElementById("st-start").style.opacity="0";document.getElementById("st-end").style.opacity="0";stlib.p6x.arb=setTimeout(function(){document.getElementById("st-icon").style.display="none";document.getElementById("st-start").style.display="none";document.getElementById("st-end").style.display="none"},500)},closeIFrame:function(){var c=document.getElementById("st-snap");if(c){c.style.display="none";stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","close");document.getElementById("st-background").style.display="none";if(stlib.p6x.disc.current<stlib.p6x.disc.max){var b=window.addEventListener?"addEventListener":"attachEvent";var a=b=="attachEvent"?"onmousemove":"mousemove";document[b](a,stlib.p6x.getElemFromMouse,false)}if(stlib.p6x.clip){stlib.p6x.applyCSS()}stlib.p6x.clip=false;stlib.p6x.setHTML("")}},setSCursor2:function(c,a){clearTimeout(stlib.p6x.arb);var b=document.getElementById("st-start");if(b.style.opacity=="0"||a){var d=stlib.helpers.getPosition2(c);b.style.top=stlib.p6x.cPos.s.top=d.top+stlib.helpers.getComputedStyle(c,"padding-top")+stlib.helpers.getComputedStyle(c,"border-top-width")-5+"px";b.style.left=stlib.p6x.cPos.s.left=d.left+stlib.helpers.getComputedStyle(c,"padding-left")+stlib.helpers.getComputedStyle(c,"border-left-width")-5+"px";if(!a){b.style.display="block";setTimeout(function(){b.style.opacity="1"},100)}}else{b.style.opacity="0";setTimeout(function(){stlib.p6x.setSCursor2(c,a)},1100)}},setECursor2:function(b,j,c){var f=document.getElementById("st-end");if(f.style.opacity=="0"||j){var d=47;var k=47;var g=stlib.helpers.getPosition3(b);var i=g.top+b.offsetHeight-d-stlib.helpers.getComputedStyle(b,"padding-bottom")-stlib.helpers.getComputedStyle(b,"border-bottom-width")+5;var a=g.left+b.offsetWidth-k-stlib.helpers.getComputedStyle(b,"padding-right")-stlib.helpers.getComputedStyle(b,"border-right-width")+5;f.style.top=stlib.p6x.cPos.e.top=i+"px";f.style.left=stlib.p6x.cPos.e.left=a+"px";if(c){var d=5;var k=42}if(j){d=d-10}stlib.p6x.wPos.top=i+d+5+"px";stlib.p6x.wPos.left=a+k-32+"px";if(!j){f.style.display="block";setTimeout(function(){f.style.opacity="1"},100)}}else{f.style.opacity="0";setTimeout(function(){stlib.p6x.setECursor2(b,j,c)},1100)}},moRules:function(e){var a=stlib.p6x.hoverMinCharLength;var f=100;var b=100;var d=1200;var c=900;if(e.textContent.trim()!=""&&e.textContent.trim().length<a){stlib.p6x.st2clog("does not meet "+a+" char requirement");return false}if(e.offsetWidth<b&&e.offsetHeight<f){stlib.p6x.st2clog("does not meet minWidth and minHeight");return false}if(e.offsetWidth>c&&e.offsetHeight>d){stlib.p6x.st2clog("passes maxWidth and maxHeight");return false}return true},getElemFromMouse:function(c){var a=c.clientX;var d=c.clientY;var b=document.elementFromPoint(a,d);stlib.p6x.checkMO(b)},checkMO:function(b){stlib.p6x.disc.tar=b;clearTimeout(stlib.p6x.moTimer);if(document.getSelection().isCollapsed&&!stlib.p6x.disableMO&&!stlib.p6x.stElem(b)){if(!stlib.p6x.validMO(b)){if(stlib.p6x.hoverOnlyObjects){return}var c=stlib.p6x.hoverInitTextDelay;var a=true}else{if(!stlib.p6x.hoverInit){return}var c=500;var a=false}stlib.p6x.moTimer=setTimeout(function(){if(stlib.p6x.moRules(b)){stlib.p6x.disc.current+=1;stlib.p6x.clipMO(b,a);if(stlib.p6x.disc.current>=stlib.p6x.disc.max){document.removeEventListener("mousemove",stlib.p6x.getElemFromMouse,false)}}else{if(document.getElementById("st-icon").style.opacity!="0"){stlib.p6x.closeIcon()}}},c)}},findOverlap:function(c){var h=0;var a=4;var f=20;var j=c;var d=j.getBoundingClientRect();while(h<a&&j.parentNode){j=j.parentNode;h++}var b=j.getElementsByTagName("*");for(var e=0;e<b.length;e++){var g=stlib.helpers.computeOverlap(b[e].getBoundingClientRect(),d);if(g.borderSum<f&&b[e]!==c){stlib.p6x.st2clog("Found an overlapper");stlib.p6x.st2clog(b[e]);c=b[e];break}}return c},clipMO:function(d,a){if(!document.getSelection().isCollapsed||!d){return}if(stlib.p6x.hoverOnlyObjects&&!stlib.p6x.validMO(d)){return}if(d===stlib.p6x.disc.elem&&document.getElementById("st-icon").style.opacity!="0"){stlib.p6x.st2clog("same elem and icon showing");return}if(d!==stlib.p6x.disc.elem&&document.getElementById("st-icon").style.opacity!="0"){stlib.p6x.st2clog("diff elem and icon showing");stlib.p6x.closeIcon();setTimeout(function(){if(d!==stlib.p6x.disc.tar){stlib.p6x.st2clog("target has changed!");stlib.p6x.st2clog(stlib.p6x.disc.tar);stlib.p6x.st2clog(d);d=stlib.p6x.disc.tar}stlib.p6x.clipMO(d,a)},1000);return}stlib.p6x.disc.elem=d;if(stlib.p6x.getOverlap&&stlib.p6x.isImage(d)){d=stlib.p6x.findOverlap(d);if(stlib.p6x.disc.elem!==d){stlib.p6x.st2clog(d);var a=true}}stlib.p6x.setSCursor2(d,!stlib.p6x.hoverShowCursor);stlib.p6x.setECursor2(d,!stlib.p6x.hoverShowCursor,stlib.p6x.iconInsideObject);stlib.p6x.docFrag=document.createDocumentFragment();stlib.p6x.docFrag.appendChild(d.cloneNode(true));stlib.p6x.range=d;stlib.p6x.styles=[];if(typeof(a)!="undefined"&&a){if(d.parentNode){stlib.p6x.styles.push(stlib.p6x.getInlineStyle(d.parentNode,{container:true}));var e=document.createElement("div");e.appendChild(stlib.p6x.docFrag);stlib.p6x.docFrag=e}stlib.p6x.styles.push(stlib.p6x.getInlineStyle(d,{topmost:true}));var b=d.getElementsByTagName("*");for(var c=0;c<b.length;c++){stlib.p6x.styles.push(stlib.p6x.getInlineStyle(b[c],{}))}stlib.p6x.hoverInitTextDelay=stlib.p6x.hoverTextDelay}else{stlib.p6x.styles.push(stlib.p6x.getInlineStyle(d,{object:true}))}stlib.p6x.showIcon("Hover")},checkHL:function(a){stlib.p6x.hlTimer=setTimeout(stlib.p6x.clipHL,stlib.p6x.ihlDelay)},clipHL:function(){if(document.getSelection().isCollapsed){return}stlib.p6x.docFrag=stlib.p6x.generateDocFrag2(document.getSelection());var d=stlib.p6x.range.startContainer;if(stlib.p6x.range.startOffset>0){d=stlib.p6x.range.startContainer.childNodes[stlib.p6x.range.startOffset]}var f=stlib.p6x.range.endContainer;if(stlib.p6x.range.startContainer.nodeName=="#text"){d=stlib.p6x.range.startContainer.parentNode}if(stlib.p6x.range.endContainer.nodeName=="#text"){f=stlib.p6x.range.endContainer.parentNode}stlib.p6x.setSCursor2(d,!stlib.p6x.highlightShowCursor);stlib.p6x.setECursor2(f,!stlib.p6x.highlightShowCursor);stlib.p6x.showIcon("Highlight");if(stlib.p6x.range.commonAncestorContainer&&stlib.p6x.range.commonAncestorContainer.nodeType==1){var b=stlib.p6x.range.commonAncestorContainer.getElementsByTagName("*");stlib.p6x.styles=[];stlib.p6x.styles.push(stlib.p6x.getInlineStyle(stlib.p6x.range.commonAncestorContainer,{container:true}));var g=document.createElement("div");g.appendChild(stlib.p6x.docFrag);stlib.p6x.docFrag=g;for(var c=0;c<b.length;c++){var a=false;if(b[c].parentNode===stlib.p6x.range.commonAncestorContainer){stlib.p6x.st2clog("This is a topmost");a=true}if(typeof(document.getSelection().containsNode)!="undefined"){if(document.getSelection().containsNode(b[c],true)){stlib.p6x.st2clog("Count: "+(c+1));stlib.p6x.st2clog(b[c]);stlib.p6x.styles.push(stlib.p6x.getInlineStyle(b[c],{topmost:a}))}}else{if(stlib.helpers.insideSelection(stlib.p6x.range,b[c])){stlib.p6x.st2clog("Count: "+(c+1));stlib.p6x.st2clog(b[c]);stlib.p6x.styles.push(stlib.p6x.getInlineStyle(b[c],{topmost:a}))}}}}},sendMessage:function(d,b,e,c){var a=document.getElementById(d);if(a.contentWindow){a.contentWindow.postMessage("ShareThis6"+(e?"|"+e:"")+(c?"|"+c:""),b)}},messageReceiver:function(f){if(f&&(f.origin=="http://edge.sharethis.com"||f.origin=="https://ws.sharethis.com/")){var g=f.data;g=g.split("|");if(g[0]=="ShareThis6"&&g.length>1){if(g[1]=="save"&&g.length>3){if(stlib.p6x.getHTML().length>1500000){stlib.p6x.st2clog("Data length: "+stlib.p6x.getHTML().length);stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","large");return}if(stlib.helpers.isOutsideViewport(document.getElementById("st-start"))){stlib.p6x.st2clog("st-start outside viewport");window.scrollTo(0,parseInt(document.getElementById("st-start").style.top))}else{stlib.p6x.st2clog("st-start inside viewport")}stlib.p6x.st2clog("Starting save... ");stlib.p6x.time("ImageGenerationTimer");stlib.scrappydoo.scrapbookID=g[2];stlib.scrappydoo.ts=g[3];if(stlib.p6x.getClipMetaData(stlib.p6x.range).type!="video"){if(stlib.p6x.range.commonAncestorContainer){stlib.p6x.generateImage(stlib.p6x.range.commonAncestorContainer)}else{stlib.p6x.generateImage(stlib.p6x.range)}}else{stlib.scrappydoo.storeClip(stlib.p6x.getHTML())}}else{if(g[1]=="resize"&&g.length>2){var e=g[2].split(",");if(e.length>1){stlib.p6x.resizeIFrame(stlib.p6x.clipIFrameId,e[0],e[1])}}else{if(g[1]=="close"){stlib.p6x.closeIFrame();stlib.p6x.closeIcon();document.getSelection().collapse()}else{if(g[1]=="closeD"){stlib.p6x.closeDPopup(true)}else{if(g[1]=="click"){if(stlib.helpers.isOutsideViewport(document.getElementById("st-start"))){stlib.p6x.st2clog("st-start outside viewport");window.scrollTo(0,parseInt(document.getElementById("st-start").style.top))}else{stlib.p6x.st2clog("st-start inside viewport")}stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","init");if(stlib.p6x.splitTesting=="D"){return}stlib.p6x.showIFrame();if(stlib.p6x.showPreview){if((/MSIE 10/).test(navigator.userAgent)){stlib.p6x.resizeIFrame(stlib.p6x.clipIFrameId,null,250)}}else{document.getElementById("st-preview").style.display="none";if((/MSIE 10/).test(navigator.userAgent)){stlib.p6x.resizeIFrame(stlib.p6x.clipIFrameId,675,541)}}}else{if(g[1]=="initB"){stlib.p6x.sendMessage("st-header","http://edge.sharethis.com/share6x/head.html","disable")}else{if(g[1]=="popupD"){stlib.p6x.showDPopup()}else{if(g[1]=="clickB"){document.getElementById("st-preview").style.display="block"}else{if(g[1]=="clickD"){stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","clickD");stlib.p6x.showIFrame();stlib.p6x.closeDPopup()}else{if(g[1]=="clickHover"){stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","initHover")}else{if(g[1]=="intro"){stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","intro");setTimeout(function(){stlib.p6x.showIFrame();document.getElementById("st-preview").style.display="none";if((/MSIE 10/).test(navigator.userAgent)){stlib.p6x.resizeIFrame(stlib.p6x.clipIFrameId,675,541)}},50)}else{if(g[1]=="introHover"){stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","introHover")}else{if(g[1]=="signin"&&g.length>2){var a=JSON.parse(g[2]);a.name="Hi "+a.name;stlib.p6x.sendMessage("st-header","http://edge.sharethis.com/share6x/head.html","post",JSON.stringify(a))}else{if(g[1]=="enable"){stlib.p6x.enableEvents()}else{if(g[1]=="used"&&g.length>2){var d=g[2];if(stlib.p6x.bookmarklet){stlib.p6x.bookmarkletScreen(d)}}else{if(g[1]=="disable"){stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","disable")}else{if(g[1]=="abTest"&&g.length>2){if(stlib.p6x.splitTesting==null){stlib.p6x.splitTesting=g[2]}if(g[2]=="B"||g[2]=="C"){stlib.p6x.showPreview=false;stlib.p6x.showInfoIcon=false}else{if(g[2]=="D"){stlib.p6x.showInfoIcon=false;var b=document.createElement("iframe");b.id="st-d-popup";b.className="st-d-popup";b.frameBorder="0";b.scrolling="no";b.setAttribute("allowTransparency","false");b.setAttribute("ignore_sharethis","true");b.src="http://edge.sharethis.com/share6x/popup.html";document.getElementsByTagName("body")[0].appendChild(b)}}}}}}}}}}}}}}}}}}}}}else{if(f&&(f.origin=="http://wd.sharethis.com/")){var g=f.data;g=g.split("|");if((/stpost_/i).test(g[0])&&g.length>1){var c=g[0];var a=stlib.json.decode(g[1]);if(c=="stpost_saveImg"){if(a&&a.status&&(/success/i).test(a.status)){stlib.p6x.timeEnd("ClipTimer");stlib.p6x.st2clog("Save image... ");stlib.p6x.time("ImageSaveTimer");if(stlib.p6x.getClipMetaData(stlib.p6x.range).type!="video"){stlib.p6x.saveImage(stlib.p6x.imageData,a.data)}stlib.scrappydoo.clipID=a.data.clipID;stlib.p6x.sendMessage(stlib.p6x.clipIFrameId,"http://edge.sharethis.com/share6x/index.html","post",g[1]);stlib.scrappydoo.storeLocation();stlib.p6x.clip=true;stlib.p6x.st2clog("Do log... ");stlib.p6x.time("LoggingTimer");stlib.p6x.log()}}else{if(c=="stpost_done"){stlib.p6x.timeEnd("ImageSaveTimer")}}}}}},copyConfig:function(a){for(var b in a){if(typeof(stlib.p6x[b])!="undefined"){stlib.p6x.st2clog("Using key "+b+" replacing "+stlib.p6x[b]+" with "+a[b]);stlib.p6x[b]=a[b]}}},odjs:function(a,b){this.head=document.getElementsByTagName("head")[0];this.scriptSrc=a;this.script=document.createElement("script");this.script.setAttribute("type","text/javascript");this.script.setAttribute("src",this.scriptSrc);this.script.onload=b;this.script.onreadystatechange=function(){if(this.readyState=="complete"){b()}};this.head.appendChild(this.script)},odcss:function(a,b){this.head=document.getElementsByTagName("head")[0];this.scriptSrc=a;this.css=document.createElement("link");this.css.setAttribute("rel","stylesheet");this.css.setAttribute("type","text/css");this.css.setAttribute("href",this.scriptSrc);setTimeout(function(){b()},500);this.head.appendChild(this.css)},init:function(){if(stlib.p6x.bInit){return}if(document.getElementById("stFrame-snapSets")){return}stlib.p6x.bInit=true;if(typeof(sharethis_snapsets_config)!="undefined"){stlib.p6x.copyConfig(sharethis_snapsets_config)}stlib.p6x.odcss("css/clipboard.css",function(){});stlib.p6x.odjs("html2canvas.js",function(){});stlib.p6x.abTest=Math.floor((Math.random()*2)+1);stlib.p6x.c_abTest=Math.floor((Math.random()*2)+1);stlib.p6x.c_abTest=2;stlib.p6x.clipIFrameId="stFrame-snapSets";var a=document.createElement("div");a.id="st-snap";a.setAttribute("ignore_sharethis","true");var i=document.createElement("div");i.id="st-snap2";var m=document.createElement("div");m.id="st-close";m.className="st-close-borderless";var d=document.createElement("iframe");d.setAttribute("id","st-header");d.setAttribute("allowTransparency","false");d.frameBorder="0";d.src="http://edge.sharethis.com/share6x/head.html";var j=document.createElement("iframe");j.setAttribute("id","st-preview");j.setAttribute("allowTransparency","false");j.frameBorder="0";j.scrolling="no";var b=document.createElement("iframe");b.id=stlib.p6x.clipIFrameId;b.setAttribute("allowTransparency","false");b.frameBorder="0";b.scrolling="no";b.src="http://edge.sharethis.com/share6x/index.html";var n=document.createElement("div");n.id="st-start";n.className="stClipped"+(stlib.p6x.c_abTest==1?" stClipped-a stClipped-left-a":" stClipped-b stClipped-left-b");n.setAttribute("ignore_sharethis","true");var k=document.createElement("div");k.id="st-end";k.className="stClipped"+(stlib.p6x.c_abTest==1?" stClipped-a stClipped-right-a":" stClipped-b stClipped-right-b");k.setAttribute("ignore_sharethis","true");var l=document.createElement("iframe");l.id="st-icon";l.className="st-icon";l.frameBorder="0";l.scrolling="no";l.setAttribute("allowTransparency","false");l.setAttribute("ignore_sharethis","true");l.src="http://edge.sharethis.com/share6x/icon.html";var c=document.createElement("div");c.setAttribute("id","st-background");c.setAttribute("ignore_sharethis","true");if(stlib.p6x.abTest==1){a.className="border";m.className="st-close-border";c.style.backgroundColor="transparent"}if(!document.getElementById(stlib.p6x.clipIFrameId)){var g=document.getElementsByTagName("body")[0];i.appendChild(d);j.onload=function(){if(document.getElementById("st-preview").contentWindow.document){var h=document.getElementById("st-preview").contentWindow.document;var e='<div style="background-color: #FFF; margin: 10px 10px 0px; padding: 10px 10px 10px; overflow-x: hidden;-webkit-box-shadow: 0 0px 1px #adadad;-moz-box-shadow: 0 0px 1px #adadad;box-shadow: 0 0px 1px #adadad;"><div style="overflow-x: hidden; max-height: 290px; height: auto; width: auto; display: inline-block;min-width: 500px;max-width: 960px;position:relative;" id="st-bubble">contentWindow</div></div>';h.body.innerHTML=e;h.body.style.backgroundColor="#EBEBEB";h.body.style.margin="0"}stlib.p6x.previewRef=document.getElementById("st-preview").contentWindow.document?document.getElementById("st-preview").contentWindow.document.getElementById("st-bubble"):document.getElementById("st-preview").contentDocument.getElementById("st-bubble")};i.appendChild(j);i.appendChild(b);a.appendChild(m);a.appendChild(i);g.appendChild(a);g.appendChild(l);g.appendChild(c);g.appendChild(n);g.appendChild(k);if(true){stlib.p6x.registerEvents()}stlib.p6x.st2clog("========================== Scrappy Doo Initialized ================================== ")}else{stlib.p6x.st2clog("========================== FAIL FAIL FAIL Scrappy Doo ================================== ")}},registerEvents:function(){var b=window.addEventListener?"addEventListener":"attachEvent";var a=b=="attachEvent"?"onmessage":"message";window[b](a,stlib.p6x.messageReceiver,false)},enableEvents:function(){var f=window.addEventListener?"addEventListener":"attachEvent";var e=f=="attachEvent"?"onmousemove":"mousemove";var d=f=="attachEvent"?"onmousedown":"mousedown";var c=f=="attachEvent"?"onmouseup":"mouseup";var b=f=="attachEvent"?"onclick":"click";var a=f=="attachEvent"?"onmouseover":"mouseover";var h=f=="attachEvent"?"onmouseout":"mouseout";var g=f=="attachEvent"?"onload":"load";if(document.readyState=="complete"){stlib.p6x.clickback()}else{window[f](g,stlib.p6x.clickback,false)}document[f](d,stlib.p6x.closeIcon,false);document[f](c,stlib.p6x.checkHL,false);document.getElementById("st-icon")[f](a,function(){stlib.p6x.disableMO=true;if(stlib.p6x.showInfoIcon){this.className="st-icon st-icon-over"}stlib.p6x.clear()},false);document.getElementById("st-icon")[f](h,function(){stlib.p6x.disableMO=false},false);document.getElementById("st-close").onclick=stlib.p6x.closeIFrame;document.getElementById("st-background").onclick=stlib.p6x.closeIFrame;setTimeout(function(){stlib.p6x.findImages();stlib.p6x.findIFrames();stlib.p6x.findGeneric("object");stlib.p6x.findGeneric("embed");stlib.p6x.hoverInit=true},stlib.p6x.hoverInitNonTextDelay);document[f](e,stlib.p6x.getElemFromMouse,false)},bookmarkletScreen:function(a){var b=document.createElement("div");b.id="st_bookmark_container";b.setAttribute("ignore_sharethis","true");b.innerHTML='<div id="st_bookmark" ignore_sharethis="true"><span id="st_bookmark_logo" ignore_sharethis="true"></span><div id="st_bookmark_close" ignore_sharethis="true"></div><span id="st_bookmark_headline" ignore_sharethis="true"></span><div id="st_bookmark_clear" ignore_sharethis="true"></div><div id="st_bookmark_body" ignore_sharethis="true"><span id="st_bookmark_text" ignore_sharethis="true" style="text-align: right;">Save text, images, and video with SnapSets</span><span id="st_bookmark_highlight" ignore_sharethis="true"></span><span id="st_bookmark_text" ignore_sharethis="true" style="text-align: left;">Check your clips on <a href="http://snapsets.sharethis.com" target="_blank">snapsets.sharethis.com</a> and share them with your friends</span><div style="clear: both;"></div></div></div><div id="st_bookmark_icon" ignore_sharethis="true"></div>';document.getElementsByTagName("body")[0].appendChild(b);document.getElementById("st_bookmark_close").onclick=function(){document.getElementById("st_bookmark").style.height="0px"};document.getElementById("st_bookmark_icon").onclick=function(){if(parseInt(document.getElementById("st_bookmark").style.height)){document.getElementById("st_bookmark").style.height="0px"}else{document.getElementById("st_bookmark").style.height="282px"}};if(a=="true"){}else{if(a=="false"){document.getElementById("st_bookmark").style.height="282px"}}},clickback:function(){var d=stlib.helpers.referrer();if(d.d==="snapsets.sharethis.com"){var e=d.q.split("&");var a="";var g="";for(var f=0;f<e.length;f++){var b=e[f].split("=");if(b[0]=="sid"){a=b[1]}else{if(b[0]=="cid"){g=b[1]}}}if(a!=""&&g!=""){stlib.scrappydoo.getLocation(a,g)}}},findImages:function(){var d=window.addEventListener?"addEventListener":"attachEvent";var c=d=="attachEvent"?"onmouseover":"mouseover";var a=document.getElementsByTagName("img");for(var b=0;b<a.length;b++){if(stlib.p6x.moRules(a[b])){a[b][d](c,function(){stlib.p6x.clipMO(this)},false)}}},findGeneric:function(d){var e=window.addEventListener?"addEventListener":"attachEvent";var c=e=="attachEvent"?"onmouseover":"mouseover";var a=document.getElementsByTagName(d);for(var b=0;b<a.length;b++){stlib.p6x.st2clog(a[b]);if(stlib.p6x.moRules(a[b])){a[b][e](c,function(){stlib.p6x.clipMO(this)},false)}}},findIFrames:function(){var d=window.addEventListener?"addEventListener":"attachEvent";var c=d=="attachEvent"?"onmouseover":"mouseover";var a=document.getElementsByTagName("iframe");for(var b=0;b<a.length;b++){if(!(/sharethis.com/).test(a[b].src)){if(stlib.p6x.moRules(a[b])){a[b][d](c,function(){stlib.p6x.clipMO(this)},false)}}}}};stlib.dom={getLocationData:function(a){var b={};b.start={};b.end={};if(typeof(a.startOffset)!="undefined"&&typeof(a.endOffset)!="undefined"){b.start=stlib.dom.getNodeData(a.startContainer);b.end=stlib.dom.getNodeData(a.endContainer);b.start.offset=a.startOffset;b.end.offset=a.endOffset}else{b.start=stlib.dom.getNodeData(a);b.end=stlib.dom.getNodeData(a)}return b},getNodeData:function(c){var d={};if(c.nodeType!=1&&c.parentNode){c=c.parentNode}if(c.nodeType!=1){return d}d.current=stlib.dom.getNodeInfo(c);d.pos=stlib.dom.getElemPos(c);var a=stlib.dom.getParentElement(c);if(a){d.parent=stlib.dom.getNodeInfo(a)}var b=stlib.dom.getPSiblingElement(c);if(b){d.psibling=stlib.dom.getNodeInfo(b)}var f=stlib.dom.getNSiblingElement(c);if(f){d.nsibling=stlib.dom.getNodeInfo(f)}var e=stlib.dom.getChildElement(c);if(e){d.child=stlib.dom.getNodeInfo(e)}return d},getParentElement:function(a){a=a.parentNode;while(a&&a.nodeType!=1&&a.parentNode){a=a.parentNode}return(a&&a.nodeType==1)?a:null},getNSiblingElement:function(a){a=a.nextSibling;while(a&&a.nodeType!=1&&a.nextSibling){a=a.nextSibling}return(a&&a.nodeType==1)?a:null},getPSiblingElement:function(a){a=a.previousSibling;while(a&&a.nodeType!=1&&a.previousSibling){a=a.previousSibling}return(a&&a.nodeType==1)?a:null},getChildElement:function(b){var a=b.childNodes;if(a.length>0){for(var d=0;d<a.length;d++){if(a[d].nodeType!=1){continue}else{return a[d]}}}return null},getNodeInfo:function(a){var b={};b.nodeName=a.nodeName;b.nodeType=a.nodeType;b.textContent=stlib.dom.getTextContent(a.textContent);if(a.nodeType==1){if(a.hasAttribute("id")){b.id=a.getAttribute("id")}if(a.hasAttribute("src")){b.src=a.getAttribute("src")}if(a.hasAttribute("href")){b.href=a.getAttribute("href")}}else{if(a.nodeType==3){}}return b},getTextContent:function(a){if(a.length>100){return a.substr(a.length-100)}return a},getElemPos:function(c){if(c.nodeType==1){c.parentNode}var a={left:null,top:null};var b=stlib.helpers.getPosition2(c);a.left=b.left;a.top=b.top;return a},matchNode:function(b,c){var a=false;if(c==null){return a}if(b.id&&b.id!=""&&b.id===c.getAttribute("id")){a=true}else{if(b.nodeName==c.nodeName){if((/img/i).test(c.nodeName)){if(b.src&&b.src!=""&&b.src===c.getAttribute("src")){a=true}}else{if(c.textContent.indexOf(b.textContent)!==-1){a=true}}}}return a},findNode:function(f){if(f.current){if(f.current.id&&f.current.id!=""&&document.getElementById(f.current.id)){return document.getElementById(f.current.id)}else{var a=document.getElementsByTagName(f.current.nodeName);var l=0;var h=null;for(var g=0;g<a.length;g++){var e=a[g];if(stlib.dom.matchNode(f.current,e)){var j=true;var d=true;var b=true;var k=true;if(f.parent){j=false;if(stlib.dom.matchNode(f.parent,stlib.dom.getParentElement(e))){j=true}}if(f.psibling){b=false;if(stlib.dom.matchNode(f.psibling,stlib.dom.getPSiblingElement(e))){b=true}}if(f.nsibling){d=false;if(stlib.dom.matchNode(f.nsibling,stlib.dom.getNSiblingElement(e))){d=true}}if(f.child){k=false;if(stlib.dom.matchNode(f.child,stlib.dom.getChildElement(e))){k=true}}if(b&&d){h=e;l++}}}if(l==1){return h}else{return null}}}}};stlib.scrappydoo={getLocation_onSuccess:function(b){if(b&&(/success/i).test(b.status)){if(b.data.location){var d=JSON.parse(b.data.location);stlib.scrappydoo.loc=d;if(d.start&&d.end){var a=stlib.dom.findNode(d.start);var c=stlib.dom.findNode(d.end);if(a&&c){stlib.p6x.applyCSS({s:a,e:c,remove:false})}}}}},getLocation:function(a,c){var b=["service=scrapbook","cb=stlib.scrappydoo.getLocation_onSuccess","call=getClip","scrapbookID="+a,"clipID="+c];stlib.scrappydoo.jsonp(b)},getLocation2:function(){if(typeof(stlib.scrappydoo.loc)!="undefined"){var c=JSON.parse(stlib.scrappydoo.loc);if(c.start&&c.end){var a=stlib.dom.findNode(c.start);var b=stlib.dom.findNode(c.end);if(a&&b){stlib.p6x.applyCSS({s:a,e:b,remove:false})}}}},storeLocation:function(){var c=JSON.stringify(stlib.dom.getLocationData(stlib.p6x.range));var b=document.location.href;var a=stlib.scrappydoo.scrapbookID;var d=stlib.scrappydoo.clipID;stlib.scrappydoo.loc=c},storeClip:function(b){stlib.p6x.st2clog("Saving clip... ");stlib.p6x.st2clog("Data length: "+b.length);stlib.p6x.time("ClipTimer");var a=stlib.p6x.getClipMetaData(stlib.p6x.range);var c=stlib.scrappydoo.scrapbookID;var d=stlib.scrappydoo.ts;var e={};e.cb="stpost_saveImg";e.cbTemplate="iframe";e.service="scrapbook";e.call="addClip";e.url=document.location.href;e.title=document.title;e.scrapbookID=c;e.timestamp=d;e.data=b;e.type=a.type;e.location=JSON.stringify(stlib.dom.getLocationData(stlib.p6x.range));stlib.scrappydoo.post(e)},storeImage:function(a,c){var b={};b.cb="stpost_done";b.cbTemplate="iframe";b.service="scrapbook";b.call="saveThumbnail";b.clipID=c.clipID;b.data=a;if(stlib.p6x.imageStatus!=""){b.flag=stlib.p6x.imageStatus}stlib.scrappydoo.post(b)},jsonp:function(a){a=a.join("&");stlib.scriptLoader.loadJavascript("http://wd.sharethis.com/api/getApi.php?"+a,function(){})},post:function(f){if(typeof(b)=="undefined"){var b="stPostFrame-"+(new Date()).valueOf()}var e=document.getElementById(b);if(e){var c=e}else{var c=document.createElement("iframe");c.id=b;c.name=b;c.style.display="none";document.body.appendChild(c)}var d=document.createElement("form");d.action="http://wd.sharethis.com/api/getApi.php";d.method="POST";d.target=b;for(key in f){var a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name",key);a.setAttribute("value",f[key]);d.appendChild(a)}document.body.appendChild(d);d.submit();document.body.removeChild(d)}};stlib.helpers={getPageInfo:function(){var e=[0,0,0,0];var b=0;var a=0;var d=0;var c=0;if(typeof(window.pageYOffset)=="number"){b=window.pageXOffset;a=window.pageYOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){b=document.body.scrollLeft;a=document.body.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){b=document.documentElement.scrollLeft;a=document.documentElement.scrollTop}}}if(window.innerWidth){d=window.innerWidth;c=window.innerHeight}else{if(document.documentElement.offsetWidth){d=document.documentElement.offsetWidth;c=document.documentElement.offsetHeight}}e={scrX:b,scrY:a,width:d,height:c};return e},getPosition2:function(c){if(!c){return{top:null,left:null}}var d=0;var b=0;var a={};a.width=c.offsetWidth,a.height=c.offsetHeight;while(c!=null){b+=c.offsetLeft;d+=c.offsetTop;b+=stlib.helpers.getComputedStyle(c,"border-left-width");d+=stlib.helpers.getComputedStyle(c,"border-top-width");c=c.offsetParent}return a.top=d,a.left=b,a.bottom=(a.top+a.height),a.right=(a.left+a.width),a.area=(a.width*a.height),a},getPosition3:function(c){if(!c){return{top:null,left:null}}if((/inline/i).test((window.getComputedStyle(c)).getPropertyValue("display"))){var b=c.getBoundingClientRect();var d=stlib.helpers.getPageInfo();var a={top:b.top+d.scrY,left:b.left+d.scrX,width:c.offsetWidth,height:c.offsetHeight};return a.bottom=(a.top+a.height),a.right=(a.left+a.width),a.area=(a.width*a.height),a}else{return stlib.helpers.getPosition2(c)}},isOutsideViewport:function(b){var c;var a=false;if(b.style.display=="none"){b.style.display="block";a=true}if(b.getBoundingClientRect){c=b.getBoundingClientRect();if(a){b.style.display="none"}if(c.top<0||c.bottom<0){return true}return false}},computeOverlap:function(b,a){var c={left:Math.abs(a.left-b.left),right:Math.abs(a.right-b.right),top:Math.abs(a.top-b.top),bottom:Math.abs(a.bottom-b.bottom)};return c.borderSum=c.left+c.right+c.top+c.bottom,c},getComputedStyle:function(b,a){try{var c=(window.getComputedStyle(b)).getPropertyValue(a);return parseInt(c.split("px")[0])}catch(d){return 0}},referrer:function(){var i=document.referrer;if(i&&i.length>0){var g=/\/\/.*?\//;var d=i.match(g);var f=/(http:\/\/)(.*?)\/.*/i;var e=/(^.*\?)(.*)/ig;var a={};var c=i.replace(f,"$2");var b=new RegExp(c,"gi");if(c.length>0){a.d=c}else{return false}var h=i.replace(e,"$2");if(h.length>0){a.q=h}return a}else{return false}},insideSelection:function(d,e){var h=document.createRange();h.selectNode(e);var c=d;var f=c.compareBoundaryPoints(Range.START_TO_START,h);var a=c.compareBoundaryPoints(Range.START_TO_END,h);var b=c.compareBoundaryPoints(Range.END_TO_END,h);var g=c.compareBoundaryPoints(Range.END_TO_START,h);if(f==-1&&b==-1&&a==-1&&g==-1){return false}else{if(f==1&&b==1&&a==1&&g==1){return false}else{return true}}}};